<?xml version="1.0" encoding="utf-8"?>
<InstructionData xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <DateTime>133987161879390355</DateTime>
  <GameVersion>0.2.5499.24517</GameVersion>
  <Title>Suit Hardsuit</Title>
  <Description>Suit controlâ€‹</Description>
  <Author>H1net</Author>
  <WorkshopFileHandle>0</WorkshopFileHandle>
  <Instructions># Hardsuit safety system  auto-open when safe
alias suit db
alias helmet d0
alias backpack d1

alias safe r10      # final: chemSafe &amp; envSafe
alias chem r12
alias env  r13

start:
    yield

    # --- Chemistry safe? (each &lt; 2%)
    l r0 suit RatioVolatiles
    slt chem r0 0.02
    l r0 suit RatioPollutant
    slt r1 r0 0.02
    and chem chem r1
    l r0 suit RatioNitrousOxide
    slt r1 r0 0.02
    and chem chem r1

    # --- Environment safe? (050 C and 45150 kPa)
    l r0 suit TemperatureExternal
    sgt env r0 273
    slt r1 r0 323
    and env env r1
    l r0 suit PressureExternal
    sgt r1 r0 45
    and env env r1
    slt r1 r0 150
    and env env r1

    # --- Final safety + apply helmet state
    and safe chem env
    s   helmet Open safe          # auto-open when safe, close when unsafe
    seqz r0 safe
    s   helmet Lock r0            # lock when unsafe

    # --- Suit systems tied to helmet closed
    l   r0 helmet Open
    seqz r0 r0                    # r0=1 if helmet closed
    s   suit AirRelease r0
    s   suit Filtration r0
    s   suit On r0
    beqz r0 start                 # if helmet open, skip alarm/nav

    # --- Alarm blink (heartbeat when closed &amp; not in nav mode)
    l r0 suit Setting
    blt r0 1000 heading
    l r0 helmet On
    seqz r0 r0
    s helmet On r0
    yield
    seqz r0 r0
    s helmet On r0
    yield

heading:
    # Quick pressure set routine if TempSetting  20 C and Setting  1000
    l r0 suit TemperatureSetting
    bgt r0 293 start

    l r0 suit Setting
    mod r0 r0 1000
    s suit AirRelease 0
    s suit Filtration 0
    s suit PressureSetting r0
    yield
    s suit PressureSetting 50
    s suit AirRelease 1
    s suit Filtration 1

    j start</Instructions>
</InstructionData>